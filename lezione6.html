<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lezione 7: Modello Ibrido - Fisica + AI</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        :root {
            --primary-color: #0284c7;
            --primary-dark: #0369a1;
            --secondary-color: #f1f5f9;
            --text-color: #334155;
            --code-bg: #1e293b;
            --success-color: #22c55e;
            --accent-color: #8b5cf6; /* Viola per l'ibrido */
            --warning-bg: #fffbeb;
            --warning-border: #fcd34d;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; color: var(--text-color); line-height: 1.6; }

        /* HEADER */
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            padding: 3rem 1rem;
            text-align: center;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        header h1 { font-size: 2.5rem; font-weight: 700; margin-bottom: 0.5rem; }
        header p { font-size: 1.2rem; opacity: 0.9; }

        /* NAV */
        .nav-bar {
            background: white;
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }
        .nav-bar a {
            text-decoration: none;
            color: var(--text-color);
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            transition: all 0.2s;
            font-size: 0.9rem;
        }
        .nav-bar a:hover { background-color: var(--secondary-color); color: var(--primary-color); }

        /* CONTENT */
        .container { max-width: 900px; margin: 2rem auto; padding: 0 1rem; }
        
        .card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            border: 1px solid #e2e8f0;
        }

        h2 {
            color: var(--primary-dark);
            border-left: 5px solid var(--accent-color);
            padding-left: 1rem;
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
        }

        h3 { margin-top: 1.5rem; margin-bottom: 0.8rem; font-size: 1.3rem; color: #1e293b; }

        /* BOX VARIANT */
        .box {
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 8px;
            border-left: 4px solid;
        }
        .box.warning { background-color: var(--warning-bg); border-color: var(--warning-border); }
        .box.hybrid { 
            background: linear-gradient(to right, #f0f9ff, #f3e8ff); 
            border-color: var(--accent-color); 
        }
        .box.success { background-color: #f0fdf4; border-color: var(--success-color); }

        /* CODE */
        .code-container {
            background-color: var(--code-bg);
            border-radius: 8px;
            overflow: hidden;
            margin: 1.5rem 0;
        }
        .code-header {
            background-color: #0f172a;
            color: #94a3b8;
            padding: 0.5rem 1rem;
            font-size: 0.8rem;
            font-family: monospace;
            display: flex; justify-content: space-between;
        }
        pre { margin: 0; padding: 1.5rem; overflow-x: auto; color: #e2e8f0; font-family: 'Consolas', monospace; }
        .keyword { color: #c084fc; } 
        .func { color: #38bdf8; } 
        .string { color: #86efac; } 
        .comment { color: #64748b; font-style: italic; }

        /* DIAGRAM PLACEHOLDERS */
        .diagram-container {
            margin: 2rem 0;
            text-align: center;
        }

        /* FOOTER */
        footer {
            text-align: center; margin-top: 4rem; padding: 2rem; color: #64748b; font-size: 0.9rem; border-top: 1px solid #e2e8f0;
        }
        
        .btn-next {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            padding: 1rem 2rem;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            margin-top: 1rem;
            transition: background 0.3s;
        }
        .btn-next:hover { background-color: var(--primary-dark); }
    </style>
</head>
<body>

    <header>
        <h1>üîß Lezione 7: Il Modello Ibrido</h1>
        <p>Unire Fisica e Intelligenza Artificiale (PIML)</p>
    </header>

    <div class="nav-bar">
        <a href="lezione6.html">‚Üê Lezione 6</a>
        <a href="#concept">Il Concetto</a>
        <a href="#logic">La Logica</a>
        <a href="#code">Codice Python</a>
        <a href="#results">Risultati</a>
        <a href="lezione8.html">Lezione 8 ‚Üí</a>
    </div>

    <div class="container">

        <div class="card" id="concept">
            <h2>üéØ L'Ingresso dell'Umano</h2>
            
            <div class="box warning">
                <strong>‚ö†Ô∏è Recap Lezione 6:</strong><br>
                Abbiamo visto che la Regressione Polinomiale pura √® "stupida". Non conoscendo la fisica, crea oscillazioni (Fenomeno di Runge) e predice correnti negative impossibili.
            </div>

            <p>Oggi introduciamo il <strong>Physics-Informed Machine Learning (PIML)</strong>. L'idea √® semplice: usiamo l'AI per modellare la complessit√† dei dati, ma usiamo regole fisiche rigide ("Hard Rules") dove sappiamo che l'AI sbaglia.</p>

            
            
            <div class="box hybrid">
                <h3>ü§ù Il meglio dei due mondi</h3>
                <ul>
                    <li><strong>AI (Machine Learning):</strong> Gestisce la curva esponenziale complessa quando il diodo √® acceso.</li>
                    <li><strong>Fisica (Regole):</strong> Impone corrente zero quando la tensione √® sotto la soglia (0.6V).</li>
                </ul>
            </div>
        </div>

        <div class="card" id="logic">
            <h2>üîå La Logica del Filtro</h2>
            <p>Non stiamo creando un nuovo algoritmo matematico complesso. Stiamo creando un <strong>sistema a stadi</strong>. Il modello AI fa una previsione, ma prima di accettarla, questa passa attraverso un "filtro logico" basato sulla conoscenza umana.</p>

            

            <p>Matematicamente, definiamo una funzione definita a tratti:</p>
            <div style="font-size: 1.3rem; text-align: center; margin: 25px 0;">
                $$ I_{ibrido} = \begin{cases} 
                0 & \text{se } V < 0.6V \text{ (Fisica)} \\
                \text{Polinomio}(V) & \text{se } V \geq 0.6V \text{ (AI)}
                \end{cases} $$
            </div>
        </div>

        <div class="card" id="code">
            <h2>üíª Implementazione in Python</h2>
            <p>Per implementare questa logica condizionale in modo efficiente su migliaia di dati contemporaneamente, usiamo la potente funzione <code>np.where</code> di NumPy.</p>

            <div class="code-container">
                <div class="code-header"><span>hybrid_model.py</span><span>Python</span></div>
                <pre>
<span class="keyword">import</span> numpy <span class="keyword">as</span> np

<span class="comment"># 1. Generiamo previsioni "grezze" dal modello polinomiale (Lez 6)</span>
I_grezza = modello_diodo.predict(V_test)

<span class="comment"># 2. Definiamo la conoscenza fisica (Soglia)</span>
SOGLIA_DIODO = <span class="keyword">0.6</span>  <span class="comment"># Volt</span>

<span class="comment"># 3. APPLICAZIONE FILTRO IBRIDO</span>
<span class="comment"># Sintassi: np.where(condizione, valore_se_vero, valore_se_falso)</span>
I_finale = np.where(V_test < SOGLIA_DIODO, <span class="keyword">0</span>, I_grezza)

<span class="comment"># 4. Sicurezza extra: mai corrente negativa</span>
I_finale = np.maximum(I_finale, <span class="keyword">0</span>)</pre>
            </div>

            <div class="box success">
                <strong>üí° Nota Tecnica:</strong><br>
                <code>np.where</code> √® vettoriale: opera su tutto l'array in un colpo solo, senza bisogno di cicli <code>for</code> lenti.
            </div>
        </div>

        <div class="card" id="results">
            <h2>üìä Il Risultato Finale</h2>
            <p>Confrontiamo visivamente cosa succede applicando il filtro fisico. A sinistra il modello puramente matematico (instabile), a destra il modello ibrido.</p>

            

            <div class="comparison-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                <div style="padding: 15px; background: #fee2e2; border-radius: 8px; border: 1px solid #fca5a5;">
                    <h4 style="color: #991b1b; margin-bottom: 10px;">‚ùå Modello Puro</h4>
                    <ul style="font-size: 0.9rem;">
                        <li>Oscilla vicino allo zero.</li>
                        <li>Prevede correnti negative.</li>
                        <li>Overfitting sul rumore.</li>
                    </ul>
                </div>
                <div style="padding: 15px; background: #dcfce7; border-radius: 8px; border: 1px solid #86efac;">
                    <h4 style="color: #166534; margin-bottom: 10px;">‚úÖ Modello Ibrido</h4>
                    <ul style="font-size: 0.9rem;">
                        <li>Perfettamente piatto a zero (come la realt√†).</li>
                        <li>Curva pulita sopra 0.6V.</li>
                        <li>Fisicamente robusto.</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="card" style="text-align: center; border-color: var(--warning-border); background: var(--warning-bg);">
            <h3>üöÄ Sfida Finale: Verso il Circuito</h3>
            <p>Ora abbiamo un modello perfetto del componente <strong>Diodo</strong>. Ma in elettronica i componenti lavorano in gruppo.</p>
            <p>Nella prossima lezione collegheremo questo modello AI a una resistenza per risolvere un circuito completo.</p>
            
            <div style="margin: 20px auto; max-width: 300px;">
                
            </div>

            <a href="lezione8.html" class="btn-next">Vai alla Lezione 8: Il Circuito Completo ‚Üí</a>
        </div>

    </div>

    <footer>
        <p>Laboratorio di Sistemi e Automazione - ML per Elettronica</p>
        <p>Lezione 7: Physics-Informed Machine Learning</p>
    </footer>

</body>
</html>




